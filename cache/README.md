
Cache
---

备选：etcd/redis

最终选择：etcd


# 1. 需求

## 1.1 核心需求

- 作为配置共享中心，网关节点统一过来这里取数据。

## 1.2 其他需求

> 优先级高到低

- 服务发现
- 提供消息队列功能，解耦日志的存取。
- 提供缓存功能，支持全局的速率限制，而非单机速率限制。


# 2. Redis

应用场景

- 实时数据存储：低延迟和高吞吐量的实时应用程序
- 缓存和会话存储：适合缓存数据库查询、复杂计算、API调用和会话状态。
- 流媒体和消息传递：流数据类型支持高速数据摄取、消息传递、事件溯源和通知。


# 3. etcd

应用场景

- 配置共享中心
- 服务发现

# 4. 对比

|项目名称|Redis|etcd|
|---|---|---|
| 可靠的消息通知（订阅/发布）| n | y |
| 变更监听 | n | y |
| 可靠的数据存储 | y(AOF) | y |
| 高可用，支持集群部署，抗大量请求| y | y |
| 作为缓存 | y | y |
| 消息队列 | y | n |
| 服务发现 | n | y |
| 内存数据结构 | y | n |
| 支持在线扩容 | n | y |

